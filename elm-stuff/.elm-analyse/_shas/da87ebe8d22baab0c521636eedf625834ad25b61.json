{"moduleDefinition":{"range":[1,1,1,28],"value":{"type":"normal","normal":{"moduleName":{"range":[1,8,1,14],"value":["Update"]},"exposingList":{"range":[1,15,1,28],"value":{"type":"all","all":[1,25,1,27]}}}}},"imports":[{"range":[3,1,3,29],"value":{"moduleName":{"range":[3,8,3,15],"value":["Message"]},"moduleAlias":null,"exposingList":{"range":[3,16,3,29],"value":{"type":"all","all":[3,26,3,28]}}}},{"range":[4,1,4,27],"value":{"moduleName":{"range":[4,8,4,13],"value":["Model"]},"moduleAlias":null,"exposingList":{"range":[4,14,4,27],"value":{"type":"all","all":[4,24,4,26]}}}},{"range":[5,1,5,30],"value":{"moduleName":{"range":[5,8,5,17],"value":["AnimState"]},"moduleAlias":null,"exposingList":{"range":[5,18,5,30],"value":{"type":"all","all":[5,27,5,29]}}}},{"range":[6,1,6,31],"value":{"moduleName":{"range":[6,8,6,17],"value":["Collision"]},"moduleAlias":null,"exposingList":{"range":[6,18,6,31],"value":{"type":"all","all":[6,28,6,30]}}}},{"range":[7,1,7,26],"value":{"moduleName":{"range":[7,8,7,12],"value":["Text"]},"moduleAlias":null,"exposingList":{"range":[7,13,7,26],"value":{"type":"all","all":[7,23,7,25]}}}},{"range":[8,1,8,29],"value":{"moduleName":{"range":[8,8,8,15],"value":["Animate"]},"moduleAlias":null,"exposingList":{"range":[8,16,8,29],"value":{"type":"all","all":[8,26,8,28]}}}}],"declarations":[{"range":[11,1,62,32],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[11,1,11,42],"value":{"name":{"range":[11,1,11,7],"value":"update"},"typeAnnotation":{"range":[11,10,11,42],"value":{"type":"function","function":{"left":{"range":[11,10,11,13],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[11,10,11,13],"value":{"moduleName":[],"name":"Msg"}},"args":[]}}},"right":{"range":[11,17,11,42],"value":{"type":"function","function":{"left":{"range":[11,17,11,22],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[11,17,11,22],"value":{"moduleName":[],"name":"Model"}},"args":[]}}},"right":{"range":[11,26,11,42],"value":{"type":"tupled","tupled":{"values":[{"range":[11,27,11,32],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[11,27,11,32],"value":{"moduleName":[],"name":"Model"}},"args":[]}}},{"range":[11,34,11,41],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[11,34,11,37],"value":{"moduleName":[],"name":"Cmd"}},"args":[{"range":[11,38,11,41],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[11,38,11,41],"value":{"moduleName":[],"name":"Msg"}},"args":[]}}}]}}}]}}}}}}}}}}},"declaration":{"range":[12,1,62,32],"value":{"name":{"range":[12,1,12,7],"value":"update"},"arguments":[{"range":[12,8,12,11],"value":{"type":"var","var":{"value":"msg"}}},{"range":[12,12,12,17],"value":{"type":"var","var":{"value":"model"}}}],"expression":{"range":[13,5,62,32],"value":{"type":"case","case":{"cases":[{"pattern":{"range":[14,9,14,33],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"GetViewport"},"patterns":[{"range":[14,21,14,33],"value":{"type":"record","record":{"value":[{"range":[14,23,14,31],"value":"viewport"}]}}}]}}},"expression":{"range":[15,13,19,14],"value":{"type":"tupled","tupled":[{"range":[15,15,17,16],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[15,17,15,22],"value":"model"},"updates":[{"range":[16,19,17,15],"value":{"field":{"range":[16,19,16,23],"value":"size"},"expression":{"range":[16,26,16,63],"value":{"type":"application","application":[{"range":[16,26,16,32],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Vector"}}},{"range":[16,41,16,47],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[16,33,16,41],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"viewport"}}},"name":{"range":[16,42,16,47],"value":"width"}}}},{"range":[16,56,16,63],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[16,48,16,56],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"viewport"}}},"name":{"range":[16,57,16,63],"value":"height"}}}}]}}}}]}}},{"range":[18,15,18,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}},{"pattern":{"range":[21,9,21,28],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"Resize"},"patterns":[{"range":[21,16,21,21],"value":{"type":"var","var":{"value":"width"}}},{"range":[21,22,21,28],"value":{"type":"var","var":{"value":"height"}}}]}}},"expression":{"range":[22,13,26,14],"value":{"type":"tupled","tupled":[{"range":[22,15,24,18],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[22,17,22,22],"value":"model"},"updates":[{"range":[23,19,24,17],"value":{"field":{"range":[23,19,23,23],"value":"size"},"expression":{"range":[23,26,23,66],"value":{"type":"application","application":[{"range":[23,26,23,32],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Vector"}}},{"range":[23,33,23,48],"value":{"type":"parenthesized","parenthesized":{"range":[23,34,23,47],"value":{"type":"application","application":[{"range":[23,34,23,41],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"toFloat"}}},{"range":[23,42,23,47],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"width"}}}]}}}},{"range":[23,49,23,66],"value":{"type":"parenthesized","parenthesized":{"range":[23,50,23,64],"value":{"type":"application","application":[{"range":[23,50,23,57],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"toFloat"}}},{"range":[23,58,23,64],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"height"}}}]}}}}]}}}}]}}},{"range":[25,15,25,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}},{"pattern":{"range":[28,9,28,34],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"AnimWalk"},"patterns":[{"range":[28,18,28,31],"value":{"type":"var","var":{"value":"moveDirection"}}},{"range":[28,32,28,34],"value":{"type":"var","var":{"value":"on"}}}]}}},"expression":{"range":[29,13,44,9],"value":{"type":"ifBlock","ifBlock":{"clause":{"range":[29,16,29,48],"value":{"type":"application","application":[{"range":[29,16,29,18],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"on"}}},{"range":[29,19,29,21],"value":{"type":"operator","operator":"&&"}},{"range":[29,34,29,39],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[29,27,29,34],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[29,22,29,27],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[29,28,29,34],"value":"player"}}}},"name":{"range":[29,35,29,39],"value":"anim"}}}},{"range":[29,40,29,42],"value":{"type":"operator","operator":"=="}},{"range":[29,43,29,48],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Stand"}}}]}},"then":{"range":[30,17,32,28],"value":{"type":"tupled","tupled":[{"range":[30,18,32,18],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[30,19,30,24],"value":"model"},"updates":[{"range":[31,21,32,17],"value":{"field":{"range":[31,21,31,27],"value":"player"},"expression":{"range":[31,33,31,62],"value":{"type":"application","application":[{"range":[31,33,31,40],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[31,28,31,33],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[31,34,31,40],"value":"player"}}}},{"range":[31,41,31,43],"value":{"type":"operator","operator":"|>"}},{"range":[31,44,31,48],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"walk"}}},{"range":[31,49,31,62],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"moveDirection"}}}]}}}}]}}},{"range":[32,19,32,27],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}},"else":{"range":[33,18,44,9],"value":{"type":"ifBlock","ifBlock":{"clause":{"range":[33,21,33,53],"value":{"type":"application","application":[{"range":[33,21,33,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"on"}}},{"range":[33,24,33,26],"value":{"type":"operator","operator":"&&"}},{"range":[33,39,33,44],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[33,32,33,39],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[33,27,33,32],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[33,33,33,39],"value":"player"}}}},"name":{"range":[33,40,33,44],"value":"anim"}}}},{"range":[33,45,33,47],"value":{"type":"operator","operator":"=="}},{"range":[33,47,33,53],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Charge"}}}]}},"then":{"range":[34,17,36,28],"value":{"type":"tupled","tupled":[{"range":[34,18,36,18],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[34,19,34,24],"value":"model"},"updates":[{"range":[35,21,36,17],"value":{"field":{"range":[35,21,35,27],"value":"player"},"expression":{"range":[35,33,35,71],"value":{"type":"application","application":[{"range":[35,33,35,40],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[35,28,35,33],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[35,34,35,40],"value":"player"}}}},{"range":[35,41,35,43],"value":{"type":"operator","operator":"|>"}},{"range":[35,44,35,57],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"jumpdirection"}}},{"range":[35,58,35,71],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"moveDirection"}}}]}}}}]}}},{"range":[36,19,36,27],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}},"else":{"range":[37,18,44,9],"value":{"type":"ifBlock","ifBlock":{"clause":{"range":[37,21,37,56],"value":{"type":"application","application":[{"range":[37,21,37,24],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"not"}}},{"range":[37,25,37,27],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"on"}}},{"range":[37,28,37,30],"value":{"type":"operator","operator":"&&"}},{"range":[37,43,37,48],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[37,36,37,43],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[37,31,37,36],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[37,37,37,43],"value":"player"}}}},"name":{"range":[37,44,37,48],"value":"anim"}}}},{"range":[37,49,37,51],"value":{"type":"operator","operator":"/="}},{"range":[37,52,37,56],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Jump"}}}]}},"then":{"range":[38,17,40,28],"value":{"type":"tupled","tupled":[{"range":[38,18,40,18],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[38,19,38,24],"value":"model"},"updates":[{"range":[39,21,40,17],"value":{"field":{"range":[39,21,39,27],"value":"player"},"expression":{"range":[39,33,39,49],"value":{"type":"application","application":[{"range":[39,33,39,40],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[39,28,39,33],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[39,34,39,40],"value":"player"}}}},{"range":[39,41,39,43],"value":{"type":"operator","operator":"|>"}},{"range":[39,44,39,49],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"stand"}}}]}}}}]}}},{"range":[40,19,40,27],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}},"else":{"range":[42,17,42,33],"value":{"type":"tupled","tupled":[{"range":[42,18,42,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},{"range":[42,24,42,32],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}}}}}}}}}}},{"pattern":{"range":[44,9,44,22],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"AnimCharge"},"patterns":[{"range":[44,20,44,22],"value":{"type":"var","var":{"value":"on"}}}]}}},"expression":{"range":[45,13,54,9],"value":{"type":"ifBlock","ifBlock":{"clause":{"range":[45,16,45,48],"value":{"type":"application","application":[{"range":[45,16,45,18],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"on"}}},{"range":[45,19,45,21],"value":{"type":"operator","operator":"&&"}},{"range":[45,34,45,39],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[45,27,45,34],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[45,22,45,27],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[45,28,45,34],"value":"player"}}}},"name":{"range":[45,35,45,39],"value":"anim"}}}},{"range":[45,40,45,42],"value":{"type":"operator","operator":"=="}},{"range":[45,43,45,48],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Stand"}}}]}},"then":{"range":[46,17,47,64],"value":{"type":"tupled","tupled":[{"range":[46,18,47,52],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[46,19,46,24],"value":"model"},"updates":[{"range":[47,21,47,51],"value":{"field":{"range":[47,21,47,27],"value":"player"},"expression":{"range":[47,33,47,50],"value":{"type":"application","application":[{"range":[47,33,47,40],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[47,28,47,33],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[47,34,47,40],"value":"player"}}}},{"range":[47,41,47,43],"value":{"type":"operator","operator":"|>"}},{"range":[47,44,47,50],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"charge"}}}]}}}}]}}},{"range":[47,54,47,62],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}},"else":{"range":[48,18,54,9],"value":{"type":"ifBlock","ifBlock":{"clause":{"range":[48,21,48,58],"value":{"type":"application","application":[{"range":[48,21,48,24],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"not"}}},{"range":[48,25,48,27],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"on"}}},{"range":[48,28,48,30],"value":{"type":"operator","operator":"&&"}},{"range":[48,43,48,48],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[48,36,48,43],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[48,31,48,36],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[48,37,48,43],"value":"player"}}}},"name":{"range":[48,44,48,48],"value":"anim"}}}},{"range":[48,49,48,51],"value":{"type":"operator","operator":"=="}},{"range":[48,52,48,58],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Charge"}}}]}},"then":{"range":[49,17,50,61],"value":{"type":"tupled","tupled":[{"range":[49,18,50,50],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[49,19,49,24],"value":"model"},"updates":[{"range":[50,21,50,49],"value":{"field":{"range":[50,21,50,27],"value":"player"},"expression":{"range":[50,33,50,48],"value":{"type":"application","application":[{"range":[50,33,50,40],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[50,28,50,33],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[50,34,50,40],"value":"player"}}}},{"range":[50,41,50,43],"value":{"type":"operator","operator":"|>"}},{"range":[50,44,50,48],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"jump"}}}]}}}}]}}},{"range":[50,52,50,60],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}},"else":{"range":[52,17,52,33],"value":{"type":"tupled","tupled":[{"range":[52,18,52,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},{"range":[52,24,52,32],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}}}}}}}},{"pattern":{"range":[54,9,54,18],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"Tick"},"patterns":[{"range":[54,14,54,18],"value":{"type":"var","var":{"value":"time"}}}]}}},"expression":{"range":[55,13,55,48],"value":{"type":"tupled","tupled":[{"range":[55,15,55,36],"value":{"type":"application","application":[{"range":[55,15,55,20],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},{"range":[55,21,55,23],"value":{"type":"operator","operator":"|>"}},{"range":[55,24,55,31],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"animate"}}},{"range":[55,32,55,36],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"time"}}}]}},{"range":[55,38,55,46],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}},{"pattern":{"range":[57,9,57,22],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"AnimAttack"},"patterns":[{"range":[57,20,57,22],"value":{"type":"var","var":{"value":"on"}}}]}}},"expression":{"range":[58,13,59,69],"value":{"type":"tupled","tupled":[{"range":[58,15,59,57],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[58,16,58,21],"value":"model"},"updates":[{"range":[59,17,59,56],"value":{"field":{"range":[59,17,59,23],"value":"player"},"expression":{"range":[59,29,59,56],"value":{"type":"application","application":[{"range":[59,29,59,36],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[59,24,59,29],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[59,30,59,36],"value":"player"}}}},{"range":[59,37,59,39],"value":{"type":"operator","operator":"|>"}},{"range":[59,40,59,56],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["AnimState"],"name":"attack"}}}]}}}}]}}},{"range":[59,59,59,67],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}},{"pattern":{"range":[61,9,61,10],"value":{"type":"all","all":{}}},"expression":{"range":[62,13,62,32],"value":{"type":"tupled","tupled":[{"range":[62,15,62,20],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},{"range":[62,22,62,30],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}}],"expression":{"range":[13,10,13,13],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"msg"}}}}}}}}}}}],"comments":[]}